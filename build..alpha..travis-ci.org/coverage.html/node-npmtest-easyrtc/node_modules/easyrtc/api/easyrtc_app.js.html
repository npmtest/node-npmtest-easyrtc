<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-easyrtc/node_modules/easyrtc/api/easyrtc_app.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-easyrtc">npmtest-easyrtc (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-easyrtc/node_modules/easyrtc/api/easyrtc_app.js</span></h1>
    <h2>
        
        Statements: <span class="metric">10.8% <small>(19 / 176)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">5.26% <small>(5 / 95)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">6.06% <small>(2 / 33)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">10.8% <small>(19 / 176)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-easyrtc/node_modules/easyrtc/api/</a> &#187; easyrtc_app.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/* global define, module, require, console */
/*!
  Script: easyrtc_app.js
&nbsp;
    Provides support file and data transfer support to easyrtc.
&nbsp;
  About: License
&nbsp;
    Copyright (c) 2016, Priologic Software Inc.
    All rights reserved.
&nbsp;
    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions are met:
&nbsp;
        * Redistributions of source code must retain the above copyright notice,
          this list of conditions and the following disclaimer.
        * Redistributions in binary form must reproduce the above copyright
          notice, this list of conditions and the following disclaimer in the
          documentation and/or other materials provided with the distribution.
&nbsp;
    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
    ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.
*/
&nbsp;
(function (root, factory) {
    <span class="missing-if-branch" title="if path not taken" >I</span>if (typeof define === 'function' &amp;&amp; <span class="branch-1 cbranch-no" title="branch not covered" >define.amd)</span> {
        //RequireJS (AMD) build system
<span class="cstat-no" title="statement not covered" >        define(['easyrtc'], factory);</span>
    } else <span class="missing-if-branch" title="else path not taken" >E</span>if (typeof module === 'object' &amp;&amp; module.exports) {
        //CommonJS build system
        module.exports = factory(require('easyrtc'));
    } else {
        //Vanilla JS, ensure dependencies are loaded correctly
<span class="cstat-no" title="statement not covered" >        if (typeof window.easyrtc !== 'object' || !window.easyrtc) {</span>
<span class="cstat-no" title="statement not covered" >            throw new Error("easyrtc_app requires easyrtc");</span>
        }
<span class="cstat-no" title="statement not covered" >        root.easyrtc = factory(window.easyrtc);</span>
  }
}(this, function (easyrtc, undefined) {
&nbsp;
    "use strict";
&nbsp;
    /**
     * This file adds additional methods to Easyrtc for simplifying the 
     * management of video-mediastream assignment.
     * @class Easyrtc_App
     */
&nbsp;
    /** @private */
    var autoAddCloseButtons = true;
&nbsp;
    /** By default, the easyApp routine sticks a "close" button on top of each caller
     * video object that it manages. Call this function(before calling easyApp) to disable that particular feature.
     * @function
     * @memberOf Easyrtc_App
     * @example
     *    easyrtc.dontAddCloseButtons();
     */
    easyrtc.dontAddCloseButtons = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >        autoAddCloseButtons = false;</span>
    };
&nbsp;
    /**
     * This is a helper function for the easyApp method. It manages the assignment of video streams
     * to video objects. It assumes
     * @param {String} monitorVideoId is the id of the mirror video tag.
     * @param {Array} videoIds is an array of ids of the caller video tags.
     * @private
     */
<span class="fstat-no" title="function not covered" >    function easyAppBody(monitorVideoId, videoIds) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        var videoIdsP = videoIds || [],</span>
            numPEOPLE = videoIds.length,
            videoIdToCallerMap = {},
            onCall = null, 
            onHangup = null;
&nbsp;
        /**
         * Validates that the video ids correspond to dom objects.
         * @param {String} monitorVideoId
         * @param {Array} videoIds
         * @returns {Boolean}
         * @private
         */
<span class="fstat-no" title="function not covered" >        function validateVideoIds(monitorVideoId, videoIds) {</span>
<span class="cstat-no" title="statement not covered" >            var i;</span>
            // verify that video ids were not typos.
<span class="cstat-no" title="statement not covered" >            if (monitorVideoId &amp;&amp; !document.getElementById(monitorVideoId)) {</span>
<span class="cstat-no" title="statement not covered" >                easyrtc.showError(easyrtc.errCodes.DEVELOPER_ERR, "The monitor video id passed to easyApp was bad, saw " + monitorVideoId);</span>
<span class="cstat-no" title="statement not covered" >                return false;</span>
            }
    
<span class="cstat-no" title="statement not covered" >            for (i in videoIds) {</span>
<span class="cstat-no" title="statement not covered" >                if (!videoIds.hasOwnProperty(i)) {</span>
<span class="cstat-no" title="statement not covered" >                    continue;</span>
                }
<span class="cstat-no" title="statement not covered" >                var name = videoIds[i];</span>
<span class="cstat-no" title="statement not covered" >                if (!document.getElementById(name)) {</span>
<span class="cstat-no" title="statement not covered" >                    easyrtc.showError(easyrtc.errCodes.DEVELOPER_ERR, "The caller video id '" + name + "' passed to easyApp was bad.");</span>
<span class="cstat-no" title="statement not covered" >                    return false;</span>
                }
            }
<span class="cstat-no" title="statement not covered" >            return true;</span>
        }
&nbsp;
&nbsp;
<span class="fstat-no" title="function not covered" >        function getCallerOfVideo(videoObject) {</span>
<span class="cstat-no" title="statement not covered" >            return videoIdToCallerMap[videoObject.id];</span>
        }
&nbsp;
<span class="fstat-no" title="function not covered" >        function setCallerOfVideo(videoObject, callerEasyrtcId) {</span>
<span class="cstat-no" title="statement not covered" >            videoIdToCallerMap[videoObject.id] = callerEasyrtcId;</span>
        }
&nbsp;
<span class="fstat-no" title="function not covered" >        function videoIsFree(obj) {</span>
<span class="cstat-no" title="statement not covered" >            var caller = getCallerOfVideo(obj);</span>
<span class="cstat-no" title="statement not covered" >            return (caller === "" || caller === null || caller === undefined);</span>
        }
&nbsp;
<span class="fstat-no" title="function not covered" >        function getIthVideo(i) {</span>
<span class="cstat-no" title="statement not covered" >            if (videoIdsP[i]) {</span>
<span class="cstat-no" title="statement not covered" >                return document.getElementById(videoIdsP[i]);</span>
            }
            else {
<span class="cstat-no" title="statement not covered" >                return null;</span>
            }
        }
&nbsp;
<span class="fstat-no" title="function not covered" >        function showVideo(video, stream) {</span>
<span class="cstat-no" title="statement not covered" >            easyrtc.setVideoObjectSrc(video, stream);</span>
<span class="cstat-no" title="statement not covered" >            if (video.style.visibility) {</span>
<span class="cstat-no" title="statement not covered" >                video.style.visibility = 'visible';</span>
            }
        }
&nbsp;
<span class="fstat-no" title="function not covered" >        function hideVideo(video) {</span>
<span class="cstat-no" title="statement not covered" >            easyrtc.setVideoObjectSrc(video, "");</span>
<span class="cstat-no" title="statement not covered" >            video.style.visibility = "hidden";</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (!validateVideoIds(monitorVideoId, videoIdsP)) {</span>
<span class="cstat-no" title="statement not covered" >            throw "bad video element id";</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (monitorVideoId) {</span>
<span class="cstat-no" title="statement not covered" >            document.getElementById(monitorVideoId).muted = "muted";</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        easyrtc.addEventListener("roomOccupants", </span>
<span class="fstat-no" title="function not covered" >            function(eventName, eventData) {</span>
<span class="cstat-no" title="statement not covered" >                var i;</span>
<span class="cstat-no" title="statement not covered" >                for (i = 0; i &lt; numPEOPLE; i++) {</span>
<span class="cstat-no" title="statement not covered" >                    var video = getIthVideo(i);</span>
<span class="cstat-no" title="statement not covered" >                    if (!videoIsFree(video)) {</span>
<span class="cstat-no" title="statement not covered" >                if( !easyrtc.isPeerInAnyRoom(getCallerOfVideo(video))){</span>
<span class="cstat-no" title="statement not covered" >                           if( onHangup ) {</span>
<span class="cstat-no" title="statement not covered" >                               onHangup(getCallerOfVideo(video), i);</span>
                           }
<span class="cstat-no" title="statement not covered" >                           setCallerOfVideo(video, null);</span>
                        }
                    }
                }
            }
        );
&nbsp;
        /** Sets an event handler that gets called when an incoming MediaStream is assigned 
         * to a video object. The name is poorly chosen and reflects a simpler era when you could
         * only have one media stream per peer connection.
         * @function
         * @memberOf Easyrtc_App
         * @param {Function} cb has the signature function(easyrtcid, slot){}
         * @example
         *   easyrtc.setOnCall( function(easyrtcid, slot){
         *      console.log("call with " + easyrtcid + "established");
         *   });
         */
<span class="cstat-no" title="statement not covered" >        easyrtc.setOnCall = <span class="fstat-no" title="function not covered" >function(cb) {</span></span>
<span class="cstat-no" title="statement not covered" >            onCall = cb;</span>
        };
&nbsp;
        /** Sets an event handler that gets called when a call is ended.
         * it's only purpose (so far) is to support transitions on video elements.
         x     * this function is only defined after easyrtc.easyApp is called.
         * The slot is parameter is the index into the array of video ids.
         * Note: if you call easyrtc.getConnectionCount() from inside your callback
         * it's count will reflect the number of connections before the hangup started.
         * @function
         * @memberOf Easyrtc_App
         * @param {Function} cb has the signature function(easyrtcid, slot){}
         * @example
         *   easyrtc.setOnHangup( function(easyrtcid, slot){
         *      console.log("call with " + easyrtcid + "ended");
         *   });
         */
<span class="cstat-no" title="statement not covered" >        easyrtc.setOnHangup = <span class="fstat-no" title="function not covered" >function(cb) {</span></span>
<span class="cstat-no" title="statement not covered" >            onHangup = cb;</span>
        };
&nbsp;
        /** 
          * Get the easyrtcid of the ith caller, starting at 0.
          * @function
          * @memberOf Easyrtc_App
          * @param {number} i
          * @returns {String}
          */
<span class="cstat-no" title="statement not covered" >        easyrtc.getIthCaller = <span class="fstat-no" title="function not covered" >function(i) {</span></span>
<span class="cstat-no" title="statement not covered" >            if (i &lt; 0 || i &gt;= videoIdsP.length) {</span>
<span class="cstat-no" title="statement not covered" >                return null;</span>
            }
<span class="cstat-no" title="statement not covered" >            var vid = getIthVideo(i);</span>
<span class="cstat-no" title="statement not covered" >            return getCallerOfVideo(vid);</span>
        };
&nbsp;
        /** 
          * This is the complement of getIthCaller. Given an easyrtcid,
          * it determines which slot the easyrtc is in.
          * @function
          * @memberOf Easyrtc_App
          * @param {string} easyrtcid 
          * @returns {number} or -1 if the easyrtcid is not a caller.
          */
<span class="cstat-no" title="statement not covered" >        easyrtc.getSlotOfCaller = <span class="fstat-no" title="function not covered" >function(easyrtcid) {</span></span>
<span class="cstat-no" title="statement not covered" >            var i;</span>
<span class="cstat-no" title="statement not covered" >            for (i = 0; i &lt; numPEOPLE; i++) {</span>
<span class="cstat-no" title="statement not covered" >                if (easyrtc.getIthCaller(i) === easyrtcid) {</span>
<span class="cstat-no" title="statement not covered" >                    return i;</span>
                }
            }
<span class="cstat-no" title="statement not covered" >            return -1; </span>// caller not connected
        };
&nbsp;
<span class="cstat-no" title="statement not covered" >        easyrtc.setOnStreamClosed(<span class="fstat-no" title="function not covered" >function(caller) {</span></span>
<span class="cstat-no" title="statement not covered" >            var i;</span>
<span class="cstat-no" title="statement not covered" >            for (i = 0; i &lt; numPEOPLE; i++) {</span>
<span class="cstat-no" title="statement not covered" >                var video = getIthVideo(i);</span>
<span class="cstat-no" title="statement not covered" >                if (getCallerOfVideo(video) === caller) {</span>
<span class="cstat-no" title="statement not covered" >                    hideVideo(video);</span>
<span class="cstat-no" title="statement not covered" >                    setCallerOfVideo(video, "");</span>
<span class="cstat-no" title="statement not covered" >                    if (onHangup) {</span>
<span class="cstat-no" title="statement not covered" >                        onHangup(caller, i);</span>
                    }
                }
            }
        });
&nbsp;
        //
        // Only accept incoming calls if we have a free video object to display
        // them in.
        //
<span class="cstat-no" title="statement not covered" >        easyrtc.setAcceptChecker(<span class="fstat-no" title="function not covered" >function(caller, helper) {</span></span>
<span class="cstat-no" title="statement not covered" >            var i;</span>
<span class="cstat-no" title="statement not covered" >            for (i = 0; i &lt; numPEOPLE; i++) {</span>
<span class="cstat-no" title="statement not covered" >                var video = getIthVideo(i);</span>
<span class="cstat-no" title="statement not covered" >                if (videoIsFree(video)) {</span>
<span class="cstat-no" title="statement not covered" >                    helper(true);</span>
<span class="cstat-no" title="statement not covered" >                    return;</span>
                }
            }
<span class="cstat-no" title="statement not covered" >            helper(false);</span>
        });
&nbsp;
<span class="cstat-no" title="statement not covered" >        easyrtc.setStreamAcceptor(<span class="fstat-no" title="function not covered" >function(caller, stream) {</span></span>
<span class="cstat-no" title="statement not covered" >            var i;</span>
<span class="cstat-no" title="statement not covered" >            if (easyrtc.debugPrinter) {</span>
<span class="cstat-no" title="statement not covered" >                easyrtc.debugPrinter("stream acceptor called");</span>
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            var video;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            for (i = 0; i &lt; numPEOPLE; i++) {</span>
<span class="cstat-no" title="statement not covered" >                video = getIthVideo(i);</span>
<span class="cstat-no" title="statement not covered" >                if (getCallerOfVideo(video) === caller) {</span>
<span class="cstat-no" title="statement not covered" >                    showVideo(video, stream);</span>
<span class="cstat-no" title="statement not covered" >                    if (onCall) {</span>
<span class="cstat-no" title="statement not covered" >                        onCall(caller, i);</span>
                    }
<span class="cstat-no" title="statement not covered" >                    return;</span>
                }
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            for (i = 0; i &lt; numPEOPLE; i++) {</span>
<span class="cstat-no" title="statement not covered" >                video = getIthVideo(i);</span>
<span class="cstat-no" title="statement not covered" >                if (videoIsFree(video)) {</span>
<span class="cstat-no" title="statement not covered" >                    setCallerOfVideo(video, caller);</span>
<span class="cstat-no" title="statement not covered" >                    if (onCall) {</span>
<span class="cstat-no" title="statement not covered" >                        onCall(caller, i);</span>
                    }
<span class="cstat-no" title="statement not covered" >                    showVideo(video, stream);</span>
<span class="cstat-no" title="statement not covered" >                    return;</span>
                }
            }
            //
            // no empty slots, so drop whatever caller we have in the first slot and use that one.
            //
<span class="cstat-no" title="statement not covered" >            video = getIthVideo(0);</span>
<span class="cstat-no" title="statement not covered" >            if (video) {</span>
<span class="cstat-no" title="statement not covered" >                easyrtc.hangup(getCallerOfVideo(video));</span>
<span class="cstat-no" title="statement not covered" >                showVideo(video, stream);</span>
<span class="cstat-no" title="statement not covered" >                if (onCall) {</span>
<span class="cstat-no" title="statement not covered" >                    onCall(caller, 0);</span>
                }
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            setCallerOfVideo(video, caller);</span>
        });
&nbsp;
<span class="cstat-no" title="statement not covered" >        var addControls, parentDiv, closeButton, i;</span>
<span class="cstat-no" title="statement not covered" >        if (autoAddCloseButtons) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            addControls = <span class="fstat-no" title="function not covered" >function(video) {</span></span>
<span class="cstat-no" title="statement not covered" >                parentDiv = video.parentNode;</span>
<span class="cstat-no" title="statement not covered" >                setCallerOfVideo(video, "");</span>
<span class="cstat-no" title="statement not covered" >                closeButton = document.createElement("div");</span>
<span class="cstat-no" title="statement not covered" >                closeButton.className = "easyrtc_closeButton";</span>
<span class="cstat-no" title="statement not covered" >                closeButton.onclick = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >                    if (getCallerOfVideo(video)) {</span>
<span class="cstat-no" title="statement not covered" >                        easyrtc.hangup(getCallerOfVideo(video));</span>
<span class="cstat-no" title="statement not covered" >                        hideVideo(video);</span>
<span class="cstat-no" title="statement not covered" >                        setCallerOfVideo(video, "");</span>
                    }
                };
<span class="cstat-no" title="statement not covered" >                parentDiv.appendChild(closeButton);</span>
            };
&nbsp;
<span class="cstat-no" title="statement not covered" >            for (i = 0; i &lt; numPEOPLE; i++) {</span>
<span class="cstat-no" title="statement not covered" >                addControls(getIthVideo(i));</span>
            }
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        var monitorVideo = null;</span>
<span class="cstat-no" title="statement not covered" >        if (easyrtc.videoEnabled &amp;&amp; monitorVideoId !== null) {</span>
<span class="cstat-no" title="statement not covered" >            monitorVideo = document.getElementById(monitorVideoId);</span>
<span class="cstat-no" title="statement not covered" >            if (!monitorVideo) {</span>
<span class="cstat-no" title="statement not covered" >                console.error("Programmer error: no object called " + monitorVideoId);</span>
<span class="cstat-no" title="statement not covered" >                return;</span>
            }
<span class="cstat-no" title="statement not covered" >            monitorVideo.muted = "muted";</span>
<span class="cstat-no" title="statement not covered" >            monitorVideo.defaultMuted = true;</span>
        }
    }
&nbsp;
    /**
     * Provides a layer on top of the easyrtc.initMediaSource and easyrtc.connect, assign the local media stream to
     * the video object identified by monitorVideoId, assign remote video streams to
     * the video objects identified by videoIds, and then call onReady. One of it's
     * side effects is to add hangup buttons to the remote video objects, buttons
     * that only appear when you hover over them with the mouse cursor. This method will also add the
     * easyrtcMirror class to the monitor video object so that it behaves like a mirror.
     * @function
     * @memberOf Easyrtc_App
     *  @param {String} applicationName - name of the application.
     *  @param {String} monitorVideoId - the id of the video object used for monitoring the local stream.
     *  @param {Array} videoIds - an array of video object ids (strings)
     *  @param {Function} onReady - a callback function used on success. It is called with the easyrtcId this peer is known to the server as.
     *  @param {Function} onFailure - a callback function used on failure (failed to get local media or a connection of the signaling server).
     *  @example
     *     easyrtc.easyApp('multiChat', 'selfVideo', ['remote1', 'remote2', 'remote3'],
     *              function(easyrtcId){
     *                  console.log("successfully connected, I am " + easyrtcId);
     *              },
     *              function(errorCode, errorText){
     *                  console.log(errorText);
     *              });
     */
    easyrtc.easyApp = <span class="fstat-no" title="function not covered" >function(applicationName, monitorVideoId, videoIds, onReady, onFailure) {</span>
        
<span class="cstat-no" title="statement not covered" >        var gotMediaCallback = null,</span>
            gotConnectionCallback = null;
&nbsp;
<span class="cstat-no" title="statement not covered" >        easyAppBody(monitorVideoId, videoIds);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        easyrtc.setGotMedia = <span class="fstat-no" title="function not covered" >function(gotMediaCB) {</span></span>
<span class="cstat-no" title="statement not covered" >            gotMediaCallback = gotMediaCB;</span>
        };
&nbsp;
        //
        // try to restablish broken connections that weren't caused by a hangup
        //
<span class="cstat-no" title="statement not covered" >        easyrtc.setPeerClosedListener( <span class="fstat-no" title="function not covered" >function(easyrtcid) {</span></span>
<span class="cstat-no" title="statement not covered" >           setTimeout( <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >               if( easyrtc.getSlotOfCaller(easyrtcid)  &gt;= 0 &amp;&amp; easyrtc.isPeerInAnyRoom(easyrtcid)) {</span>
<span class="cstat-no" title="statement not covered" >                    easyrtc.call(easyrtcid, <span class="fstat-no" title="function not covered" >function(){</span>}, <span class="fstat-no" title="function not covered" >function() {</span>}, <span class="fstat-no" title="function not covered" >function(){</span>});</span>
               }
           }, 1000);
        });
&nbsp;
        /** Sets an event handler that gets called when a connection to the signaling
         * server has or has not been made. Can only be called after calling easyrtc.easyApp.
         * @function
         * @memberOf Easyrtc_App
         * @param {Function} gotConnectionCB has the signature (gotConnection, errorText)
         * @example
         *    easyrtc.setGotConnection( function(gotConnection, errorText){
         *        if( gotConnection ){
         *            console.log("Successfully connected to signaling server");
         *        }
         *        else{
         *            console.log("Failed to connect to signaling server because: " + errorText);
         *        }
         *    });
         */
<span class="cstat-no" title="statement not covered" >        easyrtc.setGotConnection = <span class="fstat-no" title="function not covered" >function(gotConnectionCB) {</span></span>
<span class="cstat-no" title="statement not covered" >            gotConnectionCallback = gotConnectionCB;</span>
        };
        
<span class="fstat-no" title="function not covered" >        function nextInitializationStep(/* token */) {</span>
<span class="cstat-no" title="statement not covered" >            if (gotConnectionCallback) {</span>
<span class="cstat-no" title="statement not covered" >                gotConnectionCallback(true, "");</span>
            }
<span class="cstat-no" title="statement not covered" >            onReady(easyrtc.myEasyrtcid);</span>
        }
&nbsp;
<span class="fstat-no" title="function not covered" >        function postGetUserMedia() {</span>
<span class="cstat-no" title="statement not covered" >            if (gotMediaCallback) {</span>
<span class="cstat-no" title="statement not covered" >                gotMediaCallback(true, null);</span>
            }
<span class="cstat-no" title="statement not covered" >            if (monitorVideoId !== null) {</span>
<span class="cstat-no" title="statement not covered" >                easyrtc.setVideoObjectSrc(document.getElementById(monitorVideoId), easyrtc.getLocalStream());</span>
            }
<span class="fstat-no" title="function not covered" >            function connectError(errorCode, errorText) {</span>
<span class="cstat-no" title="statement not covered" >                if (gotConnectionCallback) {</span>
<span class="cstat-no" title="statement not covered" >                    gotConnectionCallback(false, errorText);</span>
                }
                else <span class="cstat-no" title="statement not covered" >if (onFailure) {</span>
<span class="cstat-no" title="statement not covered" >                    onFailure(easyrtc.errCodes.CONNECT_ERR, errorText);</span>
                }
                else {
<span class="cstat-no" title="statement not covered" >                    easyrtc.showError(easyrtc.errCodes.CONNECT_ERR, errorText);</span>
                }
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            easyrtc.connect(applicationName, nextInitializationStep, connectError);</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        var stream = easyrtc.getLocalStream(null);</span>
<span class="cstat-no" title="statement not covered" >        if (stream) {</span>
<span class="cstat-no" title="statement not covered" >            postGetUserMedia();</span>
        }
        else {
<span class="cstat-no" title="statement not covered" >            easyrtc.initMediaSource(</span>
                    postGetUserMedia,
<span class="fstat-no" title="function not covered" >                    function(errorCode, errorText) {</span>
<span class="cstat-no" title="statement not covered" >                        if (gotMediaCallback) {</span>
<span class="cstat-no" title="statement not covered" >                            gotMediaCallback(false, errorText);</span>
                        }
                        else <span class="cstat-no" title="statement not covered" >if (onFailure) {</span>
<span class="cstat-no" title="statement not covered" >                            onFailure(easyrtc.errCodes.MEDIA_ERR, errorText);</span>
                        }
                        else {
<span class="cstat-no" title="statement not covered" >                            easyrtc.showError(easyrtc.errCodes.MEDIA_ERR, errorText);</span>
                        }
                    },
                    null // default stream
                );
        }
    };
&nbsp;
return easyrtc;
&nbsp;
})); // end of module wrapper
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 06:57:00 GMT+0000 (UTC)</div>
</div>
</body>
</html>
